<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-4">Subscribe Form</h1>
    <p class="lead">Stay connected with us.</p>
  </div>
</div>
<div *ngIf="submitted">
  <app-alert-bar></app-alert-bar>
</div>
<form #subscribeForm="ngForm" (ngSubmit)="submit()">
  <!-- {{subscribeForm.value | json}} -->
  <div class="form-group">
    <label for="name">Name</label>
    <!-- {{name.errors | json}} -->
    <!-- {{console.log(name)}} -->
    <input 
      type="text" 
      class="form-control" 
      name="name"
      placeholder="Enter name" 
      ngModel 
      #name="ngModel" 
      required
    >
    <div *ngIf="name.errors">
      <small *ngIf="name.touched && name.errors.required" class="form-text text-danger">Name is required</small>
    </div>
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input 
    type="email" 
    class="form-control"
    name="email"
    placeholder="Enter email"
    ngModel
    #email="ngModel"
    email
    [required]="checkbox1.value === true"
    >
    <div *ngIf="email.errors">
      <small *ngIf="email.invalid && email.errors.required" class="form-text text-danger">Email is required</small>
      <small *ngIf="email.invalid && email.errors.email" class="form-text text-danger">Email is invalid</small>
    </div>
  </div>
  <div class="form-group">
    <label for="address">Address</label>
    <input 
    type="text" 
    class="form-control" 
    name="address" 
    placeholder="Enter address" 
    ngModel
      [required]="checkbox2.value === true"
      #address="ngModel"
    >
    <div *ngIf="address.errors">
    <small *ngIf="address.invalid && address.errors.required" class="form-text text-danger">Address is required</small>
    </div>
  </div>  
  <div class="form-group">
    <label for="city">City</label>
    <input type="text"
     class="form-control" 
     name="city" 
     placeholder="Enter city" 
     ngModel
     [required]="checkbox2.value === true"
     #city="ngModel"
     >
     <div *ngIf="city.errors">
      <small *ngIf="city.invalid && city.errors.required" class="form-text text-danger">City is required</small>
     </div>
  </div>
  <div class="form-group">
    <label for="state">State</label>
    <input type="text"
     class="form-control" 
     name="state" 
     placeholder="Enter state" 
     ngModel
     [required]="checkbox2.value === true"
     #state="ngModel"
     >
    <div *ngIf="state.errors">
      <small *ngIf="state.invalid && state.errors.required" class="form-text text-danger">State is required</small>
    </div>
  </div>
  <div class="form-group">
    <label for="zip">Zip</label>
    <input type="text"
     class="form-control" 
     name="zip" 
     placeholder="Enter zip" 
     ngModel
     [required]="checkbox2.value === true"
     #zip
     >
    <div *ngIf="zip.errors">
      <small *ngIf="zip.invalid && zip.errors.required" class="form-text text-danger">Zip is required</small>
    </div>
  </div>
  <div class="form-group">
    <label for="country">Country</label>
    <input 
      type="country" 
      class="form-control" 
      name="country" 
      placeholder="Enter country" 
      ngModel
      #country="ngModel"
      [required]="checkbox2.value === true"
    >
    <div *ngIf="country.errors">
      <small *ngIf="country.invalid && country.errors.required" class="form-text text-danger">Country is required</small>
    </div>
  </div>
  <div class="form-group">
    <label style="display:block;">Receive Newsletter by:</label>
    <label for="newsletter_by_email" style="margin-left:15px">Email</label>
    <input 
      type="checkbox" 
      name="newsletter_by_email" 
      ngModel
      #checkbox1="ngModel"
    >
    <label for="newsletter_by_address" style="margin-left:15px">Address</label>
    <input 
      type="checkbox"
      name="newsletter_by_address"
      ngModel
      #checkbox2="ngModel"
    >
  </div>
  <button type="submit" class="btn btn-primary" [disabled]="!subscribeForm.valid">Submit</button>
</form>
